apiVersion: v1
kind: PersistentVolume
metadata:
    name: paperless-documents
    annotations:
        velero.io/exclude-from-backup: "true"
spec:
    storageClassName: ""
    capacity:
        storage: 200Gi
    accessModes:
        - ReadWriteMany
    persistentVolumeReclaimPolicy: Retain
    mountOptions:
        - dir_mode=0777
        - file_mode=0777
        - gid=1000
        - uid=1000
        - vers=3.0
    csi:
        driver: smb.csi.k8s.io
        readOnly: false
        volumeHandle: paperless-documents-volume
        volumeAttributes:
            source: "//larussa-50.{{ .Values.domain }}/paperless"
        nodeStageSecretRef:
            name: cifs-secret
            namespace: paperless
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
    name: paperless-documents
    namespace: paperless
spec:
    storageClassName: ""
    volumeName: paperless-documents
    accessModes:
        - ReadWriteMany
    resources:
        requests:
            storage: 200Gi
---
apiVersion: v1
kind: PersistentVolume
metadata:
    name: paperless-scanner
    annotations:
        velero.io/exclude-from-backup: "true"
spec:
    storageClassName: ""
    capacity:
        storage: 1Gi
    accessModes:
        - ReadWriteMany
    persistentVolumeReclaimPolicy: Retain
    mountOptions:
        - dir_mode=0777
        - file_mode=0777
        - gid=1000
        - uid=1000
        - vers=3.0
    csi:
        driver: smb.csi.k8s.io
        readOnly: false
        volumeHandle: paperless-documents-volume
        volumeAttributes:
            source: "//larussa-50.{{ .Values.domain }}/ScannerIncoming"
        nodeStageSecretRef:
            name: cifs-secret
            namespace: paperless
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
    name: paperless-scanner
    namespace: paperless
spec:
    storageClassName: ""
    volumeName: paperless-scanner
    accessModes:
        - ReadWriteMany
    resources:
        requests:
            storage: 1Gi
