#################################################################################
# This file is auto-generated through the generate_swarm_services.yml playbook. #
#################################################################################

- name: Installation and configuration of swarm services
  hosts: swarm_masters
  gather_facts: false
  run_once: true
  become: true
  roles:

#################################################################################
# bitwarden
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.bitwarden }}"
      tags:
        - never
        - bitwarden_nuke
        - bitwarden_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.bitwarden }}"
      tags:
        - bitwarden
        - bitwarden_rebuild

#################################################################################
# ddns
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.ddns }}"
      tags:
        - never
        - ddns_nuke
        - ddns_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.ddns }}"
      tags:
        - ddns
        - ddns_rebuild

#################################################################################
# git-hash_updater
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.git_hash_updater }}"
      tags:
        - never
        - git_hash_updater_nuke
        - git_hash_updater_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.git_hash_updater }}"
      tags:
        - git_hash_updater
        - git_hash_updater_rebuild

#################################################################################
# gitea
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.gitea }}"
      tags:
        - never
        - gitea_nuke
        - gitea_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.gitea }}"
      tags:
        - gitea
        - gitea_rebuild

#################################################################################
# grafana
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.grafana }}"
      tags:
        - never
        - grafana_nuke
        - grafana_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.grafana }}"
      tags:
        - grafana
        - grafana_rebuild

#################################################################################
# homeassistant
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.homeassistant }}"
      tags:
        - never
        - homeassistant_nuke
        - homeassistant_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.homeassistant }}"
      tags:
        - homeassistant
        - homeassistant_rebuild

#################################################################################
# images
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.images }}"
      tags:
        - never
        - images_nuke
        - images_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.images }}"
      tags:
        - images
        - images_rebuild

#################################################################################
# loki
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.loki }}"
      tags:
        - never
        - loki_nuke
        - loki_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.loki }}"
      tags:
        - loki
        - loki_rebuild

#################################################################################
# mqtt
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.mqtt }}"
      tags:
        - never
        - mqtt_nuke
        - mqtt_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.mqtt }}"
      tags:
        - mqtt
        - mqtt_rebuild

#################################################################################
# netbox
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.netbox }}"
      tags:
        - never
        - netbox_nuke
        - netbox_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.netbox }}"
      tags:
        - netbox
        - netbox_rebuild

#################################################################################
# nginx-static
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.nginx_static }}"
      tags:
        - never
        - nginx_static_nuke
        - nginx_static_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.nginx_static }}"
      tags:
        - nginx_static
        - nginx_static_rebuild

#################################################################################
# node-red
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.node_red }}"
      tags:
        - never
        - node_red_nuke
        - node_red_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.node_red }}"
      tags:
        - node_red
        - node_red_rebuild

#################################################################################
# office-touchpad
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.office_touchpad }}"
      tags:
        - never
        - office_touchpad_nuke
        - office_touchpad_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.office_touchpad }}"
      tags:
        - office_touchpad
        - office_touchpad_rebuild

#################################################################################
# overseerr
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.overseerr }}"
      tags:
        - never
        - overseerr_nuke
        - overseerr_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.overseerr }}"
      tags:
        - overseerr
        - overseerr_rebuild

#################################################################################
# paperless
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.paperless }}"
      tags:
        - never
        - paperless_nuke
        - paperless_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.paperless }}"
      tags:
        - paperless
        - paperless_rebuild

#################################################################################
# pihole-exporter
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.pihole_exporter }}"
      tags:
        - never
        - pihole_exporter_nuke
        - pihole_exporter_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.pihole_exporter }}"
      tags:
        - pihole_exporter
        - pihole_exporter_rebuild

#################################################################################
# prometheus
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.prometheus }}"
      tags:
        - never
        - prometheus_nuke
        - prometheus_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.prometheus }}"
      tags:
        - prometheus
        - prometheus_rebuild

#################################################################################
# prom-node-exporter
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.prom_node_exporter }}"
      tags:
        - never
        - prom_node_exporter_nuke
        - prom_node_exporter_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.prom_node_exporter }}"
      tags:
        - prom_node_exporter
        - prom_node_exporter_rebuild

#################################################################################
# promtail
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.promtail }}"
      tags:
        - never
        - promtail_nuke
        - promtail_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.promtail }}"
      tags:
        - promtail
        - promtail_rebuild

#################################################################################
# prowlarr
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.prowlarr }}"
      tags:
        - never
        - prowlarr_nuke
        - prowlarr_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.prowlarr }}"
      tags:
        - prowlarr
        - prowlarr_rebuild

#################################################################################
# radarr
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.radarr }}"
      tags:
        - never
        - radarr_nuke
        - radarr_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.radarr }}"
      tags:
        - radarr
        - radarr_rebuild

#################################################################################
# sabnzbd
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.sabnzbd }}"
      tags:
        - never
        - sabnzbd_nuke
        - sabnzbd_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.sabnzbd }}"
      tags:
        - sabnzbd
        - sabnzbd_rebuild

#################################################################################
# sonarr
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.sonarr }}"
      tags:
        - never
        - sonarr_nuke
        - sonarr_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.sonarr }}"
      tags:
        - sonarr
        - sonarr_rebuild

#################################################################################
# teslamate
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.teslamate }}"
      tags:
        - never
        - teslamate_nuke
        - teslamate_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.teslamate }}"
      tags:
        - teslamate
        - teslamate_rebuild

#################################################################################
# traefik-swarm
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.traefik_swarm }}"
      tags:
        - never
        - traefik_swarm_nuke
        - traefik_swarm_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.traefik_swarm }}"
      tags:
        - traefik_swarm
        - traefik_swarm_rebuild

#################################################################################
# whoogle
#################################################################################
    - role: swarm_service_nuke
      vars:
        service: "{{ swarm_services.whoogle }}"
      tags:
        - never
        - whoogle_nuke
        - whoogle_rebuild
    - role: swarm_service
      vars:
        service: "{{ swarm_services.whoogle }}"
      tags:
        - whoogle
        - whoogle_rebuild
