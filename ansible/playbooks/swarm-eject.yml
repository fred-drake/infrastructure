- name: Removal of swarm from worker nodes
  hosts: swarm_workers
  gather_facts: false
  become: true
  tasks:
    - name: Remove swarm from worker nodes
      ansible.builtin.include_role:
        name: swarm
        tasks_from: eject_swarm

- name: Removal of swarm from master nodes
  hosts: swarm_additional_masters
  gather_facts: false
  become: true
  tasks:
    - name: Remove swarm from additional master nodes
      ansible.builtin.include_role:
        name: swarm
        tasks_from: eject_swarm

- name: Removal of swarm from the initial master node
  hosts: swarm_initial_master
  gather_facts: false
  become: true
  tasks:
    - name: Remove swarm from initial master node
      ansible.builtin.include_role:
        name: swarm
        tasks_from: eject_swarm
