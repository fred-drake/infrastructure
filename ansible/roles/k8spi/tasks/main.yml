---
- name: disable overclock
  copy:
    src: config-pi-none.txt
    dest: /boot/firmware/usercfg.txt
    mode: "0755"
  when: "'pi_overclock_none' in group_names"
  notify: reboot system

- name: overclock pi 3
  copy:
    src: config-pi3.txt
    dest: /boot/firmware/usercfg.txt
    mode: "0755"
  when: "'pi3_overclock' in group_names"
  notify: reboot system

- name: overclock pi 4 (high)
  copy:
    src: config-pi4-high.txt
    dest: /boot/firmware/usercfg.txt
    mode: "0755"
  when: "'pi4_overclock_high' in group_names"
  notify: reboot system

- name: overclock pi 4 (medium)
  copy:
    src: config-pi4-medium.txt
    dest: /boot/firmware/usercfg.txt
    mode: "0755"
  when: "'pi4_overclock_medium' in group_names"
  notify: reboot system

- name: overclock pi 4 (low)
  copy:
    src: config-pi4-low.txt
    dest: /boot/firmware/usercfg.txt
    mode: "0755"
  when: "'pi4_overclock_low' in group_names"
  notify: reboot system

- name: update boot options
  copy:
    src: cmdline.txt
    dest: /boot/firmware/cmdline.txt
    mode: '0755'
  notify: reboot system

- name: set aliases
  become: false
  copy:
    src: bash_aliases
    dest: ~/.bash_aliases
    mode: '0644'

# - name: enable iscsi for openebs
#   systemd:
#     enabled: true
#     name: iscsid
